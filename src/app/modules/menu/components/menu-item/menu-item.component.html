<div class="menu-item card h-100" [class.unavailable]="!available">
  <div class="card-img-top position-relative">
    <ng-container *ngIf="imageUrl; else noImage">
      <img [src]="imageUrl" [alt]="name" />
    </ng-container>

    <ng-template #noImage>
      <div class="image-placeholder">
        <i class="bi bi-image" style="font-size: 3rem; color: rgba(107, 29, 61, 0.5)"></i>
      </div>
    </ng-template>
    
    <!-- Botón de Favorito -->
    <button 
      class="favorite-btn" 
      (click)="onFavoriteClick($event)"
      [title]="isLoggedIn ? 'Agregar a favoritos' : 'Inicia sesión para agregar favoritos'">
      <i class="bi" 
         [class.bi-heart]="!(isFavorite$ | async)" 
         [class.bi-heart-fill]="isFavorite$ | async" 
         [class.favorite-active]="isFavorite$ | async"></i>
    </button>
  </div>

  <div class="card-body">
    <div class="d-flex justify-content-between align-items-start mb-2">
      <h5 class="card-title mb-0">{{ name }}</h5>
      <span class="badge bg-primary price-badge">{{ price | currency:'COP':'symbol':'1.0-0' }}</span>
    </div>
    <p class="card-text">{{ description }}</p>
    <span *ngIf="!available" class="badge bg-danger">No disponible</span>
  </div>
</div>
