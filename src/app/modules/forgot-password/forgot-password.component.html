<section class="forgot-password-page">
  <!-- Hero Section -->
  <div class="hero-section">
    <div class="hero-overlay"></div>
    <div class="hero-content">
      <h1 class="hero-title">Recuperar Contraseña</h1>
      <p class="hero-subtitle">Te enviaremos un enlace para restablecer tu contraseña</p>
    </div>
  </div>

  <!-- Formulario de Recuperación -->
  <div class="container py-5">
    <div class="row justify-content-center">
      <div class="col-lg-6 col-md-8">
        <div class="forgot-password-card">
          <div class="forgot-password-header">
            <div class="forgot-password-icon-wrapper">
              <i class="bi bi-key-fill forgot-password-icon"></i>
            </div>
            <h2 class="forgot-password-title">Recuperar Contraseña</h2>
            <p class="forgot-password-subtitle">Ingresa tu correo electrónico y te enviaremos un enlace</p>
          </div>

          <!-- Mensaje de éxito -->
          <div *ngIf="success" class="alert alert-success alert-dismissible fade show" role="alert">
            <i class="bi bi-check-circle-fill me-2"></i>
            <div>
              <strong>¡Solicitud procesada!</strong> 
              <br><br>
              <strong>¿Qué hacer ahora?</strong>
              <ul class="mb-2 mt-2">
                <li>Revisa tu bandeja de entrada en: <strong>{{ email }}</strong></li>
                <li>Revisa también tu carpeta de <strong>spam o correo no deseado</strong></li>
                <li>El correo puede tardar unos minutos en llegar</li>
              </ul>
              <div class="alert alert-warning mt-3 mb-0" role="alert">
                <i class="bi bi-exclamation-triangle-fill me-2"></i>
                <strong>¿No recibiste el correo?</strong>
                <ul class="mb-0 mt-2">
                  <li>Verifica que el correo <strong>{{ email }}</strong> esté registrado en el sistema</li>
                  <li>Espera al menos 10 minutos</li>
                  <li>Si estás en desarrollo, el servicio de correo puede no estar configurado en el backend</li>
                  <li>Contacta al administrador si el problema persiste</li>
                </ul>
              </div>
            </div>
            <button type="button" class="btn-close" aria-label="Close"></button>
          </div>

          <!-- Mensaje de error -->
          <div *ngIf="error && !success" class="alert alert-danger alert-dismissible fade show" role="alert">
            <i class="bi bi-exclamation-triangle-fill me-2"></i>
            {{ error }}
            <button type="button" class="btn-close" (click)="error = null" aria-label="Close"></button>
          </div>

          <!-- Formulario -->
          <form (ngSubmit)="onSubmit()" *ngIf="!success" class="forgot-password-form">
            <!-- Email -->
            <div class="form-group mb-4">
              <label for="email" class="form-label">
                <i class="bi bi-envelope-fill me-2"></i>Correo Electrónico
              </label>
              <input
                type="email"
                id="email"
                class="form-control"
                [(ngModel)]="email"
                name="email"
                placeholder="tu@email.com"
                required
                [disabled]="isLoading"
                autofocus
              />
            </div>

            <!-- Botón de Enviar -->
            <div class="form-actions">
              <button type="submit" class="submit-btn" [disabled]="isLoading">
                <i class="bi bi-send-fill me-2"></i>
                <span *ngIf="!isLoading">Enviar Enlace de Recuperación</span>
                <span *ngIf="isLoading">
                  <i class="bi bi-hourglass-split"></i>
                  Enviando...
                </span>
                <i *ngIf="!isLoading" class="bi bi-arrow-right ms-2"></i>
              </button>
            </div>
          </form>

          <!-- Botón de volver cuando es exitoso -->
          <div *ngIf="success" class="form-actions">
            <button type="button" class="submit-btn" (click)="goToLogin()">
              <i class="bi bi-arrow-left me-2"></i>
              Volver al Inicio de Sesión
            </button>
          </div>

          <!-- Enlace a Login -->
          <div class="forgot-password-footer" *ngIf="!success">
            <p>¿Recordaste tu contraseña? <a href="javascript:void(0)" class="login-link" (click)="goToLogin(); $event.preventDefault()">Iniciar Sesión</a></p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
