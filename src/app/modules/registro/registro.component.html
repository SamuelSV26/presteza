<section class="registro-page">
  <!-- Hero Section -->
  <div class="hero-section">
    <div class="hero-overlay"></div>
    <div class="hero-content">
      <h1 class="hero-title">Crear Cuenta</h1>
      <p class="hero-subtitle">Únete a nuestra comunidad y disfruta de los mejores sabores</p>
    </div>
  </div>

  <!-- Formulario de Registro -->
  <div class="container py-5">
    <div class="row justify-content-center">
      <div class="col-lg-6 col-md-8">
        <div class="registro-card">
          <div class="registro-header">
            <div class="registro-icon-wrapper">
              <i class="bi bi-person-plus-fill registro-icon"></i>
            </div>
            <h2 class="registro-title">Regístrate</h2>
            <p class="registro-subtitle">Completa tus datos para crear tu cuenta</p>
          </div>

          <form [formGroup]="registroForm" (ngSubmit)="onSubmit()" class="registro-form">
            <!-- Mensaje de éxito -->
            <div *ngIf="formSuccess" class="alert alert-success alert-dismissible fade show" role="alert">
              <i class="bi bi-check-circle-fill me-2"></i>
              ¡Cuenta creada exitosamente! Redirigiendo...
            </div>

            <!-- Mensaje de error -->
            <div *ngIf="formError" class="alert alert-danger alert-dismissible fade show" role="alert">
              <i class="bi bi-exclamation-triangle-fill me-2"></i>
              {{ formError }}
              <button type="button" class="btn-close" (click)="formError = null" aria-label="Close"></button>
            </div>

            <!-- Nombre -->
            <div class="form-group mb-4">
              <label for="name" class="form-label">
                <i class="bi bi-person-fill me-2"></i>Nombre Completo
              </label>
              <input
                type="text"
                id="name"
                formControlName="name"
                class="form-control"
                [class.is-invalid]="submitted && f['name'].errors"
                placeholder="Ingresa tu nombre completo"
              />
              <div *ngIf="submitted && f['name'].errors" class="invalid-feedback">
                <span *ngIf="f['name'].errors?.['required']">El nombre es requerido</span>
                <span *ngIf="f['name'].errors?.['minlength']">El nombre debe tener al menos 2 caracteres</span>
              </div>
            </div>

            <!-- Email -->
            <div class="form-group mb-4">
              <label for="email" class="form-label">
                <i class="bi bi-envelope-fill me-2"></i>Correo Electrónico
              </label>
              <input
                type="email"
                id="email"
                formControlName="email"
                class="form-control"
                [class.is-invalid]="submitted && f['email'].errors"
                placeholder="tu@email.com"
              />
              <div *ngIf="submitted && f['email'].errors" class="invalid-feedback">
                <span *ngIf="f['email'].errors?.['required']">El correo es requerido</span>
                <span *ngIf="f['email'].errors?.['email']">Ingresa un correo válido</span>
              </div>
            </div>

            <!-- Teléfono -->
            <div class="form-group mb-4">
              <label for="phone" class="form-label">
                <i class="bi bi-telephone-fill me-2"></i>Teléfono
              </label>
              <input
                type="tel"
                id="phone"
                formControlName="phone"
                class="form-control"
                [class.is-invalid]="submitted && f['phone'].errors"
                placeholder="3101234567"
              />
              <div *ngIf="submitted && f['phone'].errors" class="invalid-feedback">
                <span *ngIf="f['phone'].errors?.['required']">El teléfono es requerido</span>
                <span *ngIf="f['phone'].errors?.['pattern']">Ingresa un teléfono válido (10 dígitos)</span>
              </div>
            </div>

            <!-- Contraseña -->
            <div class="form-group mb-4">
              <label for="password" class="form-label">
                <i class="bi bi-lock-fill me-2"></i>Contraseña
              </label>
              <input
                type="password"
                id="password"
                formControlName="password"
                class="form-control"
                [class.is-invalid]="submitted && f['password'].errors"
                placeholder="Mínimo 6 caracteres"
              />
              <div *ngIf="submitted && f['password'].errors" class="invalid-feedback">
                <span *ngIf="f['password'].errors?.['required']">La contraseña es requerida</span>
                <span *ngIf="f['password'].errors?.['minlength']">La contraseña debe tener al menos 8 caracteres</span>
                <span *ngIf="f['password'].errors?.['pattern']">La contraseña debe tener al menos una mayúscula, una minúscula y un número</span>
              </div>
            </div>

            <!-- Confirmar Contraseña -->
            <div class="form-group mb-4">
              <label for="confirmPassword" class="form-label">
                <i class="bi bi-lock-fill me-2"></i>Confirmar Contraseña
              </label>
              <input
                type="password"
                id="confirmPassword"
                formControlName="confirmPassword"
                class="form-control"
                [class.is-invalid]="submitted && (f['confirmPassword'].errors || registroForm.errors?.['passwordMismatch'])"
                placeholder="Confirma tu contraseña"
              />
              <div *ngIf="submitted && (f['confirmPassword'].errors || registroForm.errors?.['passwordMismatch'])" class="invalid-feedback">
                <span *ngIf="f['confirmPassword'].errors?.['required']">Confirma tu contraseña</span>
                <span *ngIf="registroForm.errors?.['passwordMismatch'] || f['confirmPassword'].errors?.['passwordMismatch']">Las contraseñas no coinciden</span>
              </div>
            </div>

            <!-- Aceptar Términos -->
            <div class="form-group mb-4">
              <label class="terms-checkbox">
                <input
                  type="checkbox"
                  formControlName="acceptTerms"
                  [class.is-invalid]="submitted && f['acceptTerms'].errors"
                />
                <span>Acepto los <a href="#" class="terms-link">términos y condiciones</a> y la <a href="#" class="terms-link">política de privacidad</a></span>
              </label>
              <div *ngIf="submitted && f['acceptTerms'].errors" class="invalid-feedback d-block">
                Debes aceptar los términos y condiciones
              </div>
            </div>

            <!-- Botón de Registro -->
            <div class="form-actions">
              <button type="submit" class="submit-btn" [disabled]="isLoading">
                <i class="bi bi-person-plus-fill me-2"></i>
                <span *ngIf="!isLoading">Crear Cuenta</span>
                <span *ngIf="isLoading">
                  <i class="bi bi-hourglass-split"></i>
                  Registrando...
                </span>
              </button>
            </div>

            <!-- Enlace a Login -->
            <div class="registro-footer">
              <p>¿Ya tienes una cuenta? <a href="#" class="login-link" (click)="navigateToLogin(); $event.preventDefault()">Inicia sesión aquí</a></p>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>

